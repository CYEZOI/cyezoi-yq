(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{6451:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password",function(){return r(5704)}])},8166:function(e,s,r){"use strict";r.d(s,{b:function(){return t}});var n=r(4961),a=r(5139);class t{static async request_url(e,s,r,t){let o=new URLSearchParams(r);return o.append("lang",localStorage.getItem("language")||"en"),o.append("token",localStorage.getItem("token")||""),fetch("/api/"+(s+=(s.includes("?")?"&":"?")+o.toString()),{method:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>(e.success?(t.showSuccess&&n.X.emit("newAlert",{message:e.message,variant:"success"}),t.success&&t.success(e.result)):(t.hideFailure||n.X.emit("newAlert",{message:e.message,variant:"danger"}),t.failure&&t.failure(e.result)),e.result)).catch(e=>{t.hideError||n.X.emit("newAlert",{message:(0,a.t)("networkError"),variant:"danger"}),t.error&&t.error(e)})}static async request_body(e,s,r,t){fetch("/api/"+s,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:r.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""})}).then(e=>e.json()).then(e=>{e.success?(t.showSuccess&&n.X.emit("newAlert",{message:e.message,variant:"success"}),t.success&&t.success(e.result)):(t.hideFailure||n.X.emit("newAlert",{message:e.message,variant:"danger"}),t.failure&&t.failure(e.result))}).catch(e=>{t.hideError||n.X.emit("newAlert",{message:(0,a.t)("networkError"),variant:"danger"}),t.error&&t.error(e)})}static async Get(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request_url("GET",e,s,r)}static async Post(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request_body("POST",e,s,r)}static async Put(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request_body("PUT",e,s,r)}static async Delete(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request_url("DELETE",e,s,r)}static async SWRGet(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,n)=>{t.Get(e,s,{success:e=>r(e),failure:e=>n(e),error:e=>n(e)})})}static success(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:s,result:r}),e.end())}static failure(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:s,result:{}}),e.end())}}},5704:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return p}});var n=r(2676),a=r(7976),t=r.n(a),o=r(5324),i=r(1228),l=r(9722),c=r(8166),u=r(4703),d=r(4018),m=r(8801),h=r(5271);function p(){let{t:e}=o.default,[s,r]=(0,h.useState)("");return(0,h.useEffect)(()=>{"undefined"!=typeof location&&r(new URLSearchParams(location.search).get("username")||"")}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:e("changePassword")+" - "+e("brand")})}),(0,n.jsx)("h3",{children:e("changePassword")}),(0,n.jsx)(i.J9,{validationSchema:l.Ry().shape({username:l.Z_().typeError(e("requireString")).required(e("required")),password:l.Z_().typeError(e("requireString")).required(e("required")).min(8,e("minLen8")).max(64,e("maxLen64")).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{}|;':",.<>\/?]).{8,64}$/,e("requireStrongPassword")),confirmPassword:l.Z_().typeError(e("requireString")).required(e("required")).oneOf([l.iH("password")],e("passwordNotMatch"))}),onSubmit:e=>{c.b.Put("user",{params:e},{success:()=>{history.back()},showSuccess:!0})},initialValues:{username:s,password:"",confirmPassword:""},enableReinitialize:!0,children:s=>{let{handleSubmit:r,handleChange:a,handleBlur:t,values:o,touched:i,errors:l}=s;return(0,n.jsxs)(u.Z,{noValidate:!0,onSubmit:r,children:[(0,n.jsxs)(d.Z,{controlId:"username",label:e("username"),className:"mb-3",children:[(0,n.jsx)(u.Z.Control,{placeholder:e("username"),name:"username",value:o.username,disabled:!0,onBlur:t,onChange:a,isInvalid:i.username&&null!=l.username}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:l.username})]}),(0,n.jsxs)(d.Z,{controlId:"password",label:e("password"),className:"mb-3",children:[(0,n.jsx)(u.Z.Control,{type:"password",placeholder:e("password"),name:"password",value:o.password,onBlur:t,onChange:a,isInvalid:i.password&&null!=l.password}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:l.password})]}),(0,n.jsxs)(d.Z,{controlId:"confirmPassword",label:e("confirmPassword"),className:"mb-3",children:[(0,n.jsx)(u.Z.Control,{type:"password",placeholder:e("confirmPassword"),name:"confirmPassword",value:o.confirmPassword,onBlur:t,onChange:a,isInvalid:i.confirmPassword&&null!=l.confirmPassword}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:l.confirmPassword})]}),(0,n.jsx)(m.Z,{type:"submit",children:e("update")})]})}})]})}},7976:function(e,s,r){e.exports=r(6627)}},function(e){e.O(0,[4,888,774,179],function(){return e(e.s=6451)}),_N_E=e.O()}]);