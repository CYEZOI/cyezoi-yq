(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{8328:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/student",function(){return r(8321)}])},5837:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(2187),a=r.n(n),s=r(5271),l=r(4982),c=r(2676);function o(e){let{as:t,bsPrefix:r,className:n,...s}=e;r=(0,l.vE)(r,"col");let c=(0,l.pi)(),o=(0,l.zG)(),i=[],u=[];return c.forEach(e=>{let t,n,a;let l=s[e];delete s[e],"object"==typeof l&&null!=l?{span:t,offset:n,order:a}=l:t=l;let c=e!==o?"-".concat(e):"";t&&i.push(!0===t?"".concat(r).concat(c):"".concat(r).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=n&&u.push("offset".concat(c,"-").concat(n))}),[{...s,className:a()(n,...i,...u)},{as:t,bsPrefix:r,spans:i}]}let i=s.forwardRef((e,t)=>{let[{className:r,...n},{as:s="div",bsPrefix:l,spans:i}]=o(e);return(0,c.jsx)(s,{...n,ref:t,className:a()(r,!i.length&&l)})});i.displayName="Col",t.Z=i},4074:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5271),a=r(2187),s=r.n(a),l=r(4982),c=r(5837);function o(e){let{animation:t,bg:r,bsPrefix:n,size:a,...o}=e;n=(0,l.vE)(n,"placeholder");let[{className:i,...u}]=(0,c.r)(o);return{...u,className:s()(i,t?"".concat(n,"-").concat(t):n,a&&"".concat(n,"-").concat(a),r&&"bg-".concat(r))}}var i=r(8801),u=r(2676);let d=n.forwardRef((e,t)=>{let r=o(e);return(0,u.jsx)(i.Z,{...r,ref:t,disabled:!0,tabIndex:-1})});d.displayName="PlaceholderButton";let m=n.forwardRef((e,t)=>{let{as:r="span",...n}=e,a=o(n);return(0,u.jsx)(r,{...a,ref:t})});m.displayName="Placeholder";var p=Object.assign(m,{Button:d})},8533:function(e,t,r){"use strict";var n=r(2187),a=r.n(n),s=r(5271),l=r(4982),c=r(2676);let o=s.forwardRef((e,t)=>{let{bsPrefix:r,className:n,striped:s,bordered:o,borderless:i,hover:u,size:d,variant:m,responsive:p,...f}=e,g=(0,l.vE)(r,"table"),h=a()(n,g,m&&"".concat(g,"-").concat(m),d&&"".concat(g,"-").concat(d),s&&"".concat(g,"-").concat("string"==typeof s?"striped-".concat(s):"striped"),o&&"".concat(g,"-bordered"),i&&"".concat(g,"-borderless"),u&&"".concat(g,"-hover")),v=(0,c.jsx)("table",{...f,className:h,ref:t});if(p){let e="".concat(g,"-responsive");return"string"==typeof p&&(e="".concat(e,"-").concat(p)),(0,c.jsx)("div",{className:e,children:v})}return v});t.Z=o},8166:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(4961);class a{static async request_url(e,t,r,a){let s=new URLSearchParams(r);return s.append("lang",localStorage.getItem("language")||"en"),s.append("token",localStorage.getItem("token")||""),fetch("/api/"+(t+=(t.includes("?")?"&":"?")+s.toString()),{method:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>(e.success?(n.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(n.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result)),e.result)).catch(e=>{n.X.emit("newAlert",{message:"API Error",variant:"danger"}),a.error&&a.error(e)})}static async request_body(e,t,r,a){fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:r.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""})}).then(e=>e.json()).then(e=>{e.success?(n.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(n.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result))}).catch(e=>{n.X.emit("newAlert",{message:"API Error",variant:"danger"}),a.error&&a.error(e)})}static async Get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("GET",e,t,r)}static async Post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("POST",e,t,r)}static async Put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("PUT",e,t,r)}static async Delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("DELETE",e,t,r)}static async SWRGet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,n)=>{a.Get(e,t,{success:e=>r(e),failure:e=>n(e),error:e=>n(e)})})}static success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:t,result:r}),e.end())}static failure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:t,result:{}}),e.end())}}},8321:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(2676),a=r(5271),s=r(3232),l=r(7976),c=r.n(l),o=r(8533),i=r(2187),u=r.n(i),d=r(4982);let m=a.forwardRef((e,t)=>{let{bsPrefix:r,bg:a="primary",pill:s=!1,text:l,className:c,as:o="span",...i}=e,m=(0,d.vE)(r,"badge");return(0,n.jsx)(o,{ref:t,...i,className:u()(c,m,s&&"rounded-pill",l&&"text-".concat(l),a&&"bg-".concat(a))})});m.displayName="Badge";var p=r(4074),f=r(5837),g=r(8166),h=r(9505),v=r(507),j=r.n(v),b=["color","size","title","className"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=(0,a.forwardRef)(function(e,t){var r=e.color,n=e.size,s=e.title,l=e.className,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,b);return a.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r,className:["bi","bi-gender-male",l].filter(Boolean).join(" ")},c),s?a.createElement("title",null,s):null,a.createElement("path",{fillRule:"evenodd",d:"M9.5 2a.5.5 0 0 1 0-1h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V2.707L9.871 6.836a5 5 0 1 1-.707-.707L13.293 2zM6 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8"}))});w.propTypes={color:j().string,size:j().oneOfType([j().string,j().number]),title:j().string,className:j().string},w.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var x=["color","size","title","className"];function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var I=(0,a.forwardRef)(function(e,t){var r=e.color,n=e.size,s=e.title,l=e.className,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,x);return a.createElement("svg",N({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r,className:["bi","bi-gender-female",l].filter(Boolean).join(" ")},c),s?a.createElement("title",null,s):null,a.createElement("path",{fillRule:"evenodd",d:"M8 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8M3 5a5 5 0 1 1 5.5 4.975V12h2a.5.5 0 0 1 0 1h-2v2.5a.5.5 0 0 1-1 0V13h-2a.5.5 0 0 1 0-1h2V9.975A5 5 0 0 1 3 5"}))});function O(){let{t:e}=s.default,[t,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{"undefined"!=typeof localStorage&&r(localStorage.getItem("studentName"))});let{data:l}=(0,h.ZP)("student",g.b.SWRGet),{data:i}=(0,h.ZP)(()=>{let e=l.student.map(e=>e.studentId).join(",");return e?"groupMember?student="+e:null},g.b.SWRGet),{data:u}=(0,h.ZP)(()=>{let e=i?i.student.map(e=>e.group.map(e=>e.groupId)).join(","):null;return e?"group?groupId="+e:null},g.b.SWRGet),{data:d}=(0,h.ZP)(()=>{let e=l.student.map(e=>e.studentId).join(",");return e?"roleMember?student="+e:null},g.b.SWRGet),{data:v}=(0,h.ZP)(()=>{let e=d?d.student.map(e=>e.role).join(","):null;return e?"role?roleId="+e:null},g.b.SWRGet);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{children:(0,n.jsx)("title",{children:e("student")+" - "+e("brand")})}),(0,n.jsx)("h3",{children:e("student")}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"col-2",children:e("studentId")}),(0,n.jsx)("th",{className:"col-8",children:e("studentName")}),(0,n.jsx)("th",{className:"col-2",children:e("gender")})]})}),(0,n.jsx)("tbody",{children:l&&l.student.map(r=>(0,n.jsxs)("tr",{className:t==r.studentName?"table-primary":"",children:[(0,n.jsx)("td",{children:r.studentId}),(0,n.jsxs)("td",{children:[r.studentName,i?i.student.filter(e=>e.studentId==r.studentId).map(t=>t.group.map(t=>(0,n.jsx)(m,{className:"ms-2",bg:t.leader?"primary":"secondary",role:"button",onClick:()=>{window.location.href="/group?groupId="+t.groupId},children:u?u.group.filter(e=>e.groupId==t.groupId).map(e=>e.groupName):e("group")+" "+t.groupId},t.groupId))):(0,n.jsx)(p.Z,{className:"ms-2",animation:"wave",children:(0,n.jsx)(p.Z,{as:f.Z,xs:3})}),d?d.student.filter(e=>e.studentId==r.studentId).map(t=>t.role.map(t=>(0,n.jsx)(m,{className:"ms-2",bg:"primary",children:v?v.role.filter(e=>e.roleId==t).map(e=>e.roleName):e("role")+" "+t},t))):(0,n.jsx)(p.Z,{className:"ms-2",animation:"wave",children:(0,n.jsx)(p.Z,{as:f.Z,xs:3})})]}),(0,n.jsx)("td",{children:r.gender?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{className:"me-1"}),e("male")]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I,{className:"me-1"}),e("female")]})})]},r.studentId))})]})]})}I.propTypes={color:j().string,size:j().oneOfType([j().string,j().number]),title:j().string,className:j().string},I.defaultProps={color:"currentColor",size:"1em",title:null,className:""}}},function(e){e.O(0,[368,888,774,179],function(){return e(e.s=8328)}),_N_E=e.O()}]);