(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{8328:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/student",function(){return r(6398)}])},7946:function(e,t,r){"use strict";var n=r(2187),s=r.n(n),a=r(5271),l=r(4982),o=r(2676);let c=a.forwardRef((e,t)=>{let{bsPrefix:r,bg:n="primary",pill:a=!1,text:c,className:i,as:u="span",...d}=e,m=(0,l.vE)(r,"badge");return(0,o.jsx)(u,{ref:t,...d,className:s()(i,m,a&&"rounded-pill",c&&"text-".concat(c),n&&"bg-".concat(n))})});c.displayName="Badge",t.Z=c},5837:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n=r(2187),s=r.n(n),a=r(5271),l=r(4982),o=r(2676);function c(e){let{as:t,bsPrefix:r,className:n,...a}=e;r=(0,l.vE)(r,"col");let o=(0,l.pi)(),c=(0,l.zG)(),i=[],u=[];return o.forEach(e=>{let t,n,s;let l=a[e];delete a[e],"object"==typeof l&&null!=l?{span:t,offset:n,order:s}=l:t=l;let o=e!==c?"-".concat(e):"";t&&i.push(!0===t?"".concat(r).concat(o):"".concat(r).concat(o,"-").concat(t)),null!=s&&u.push("order".concat(o,"-").concat(s)),null!=n&&u.push("offset".concat(o,"-").concat(n))}),[{...a,className:s()(n,...i,...u)},{as:t,bsPrefix:r,spans:i}]}let i=a.forwardRef((e,t)=>{let[{className:r,...n},{as:a="div",bsPrefix:l,spans:i}]=c(e);return(0,o.jsx)(a,{...n,ref:t,className:s()(r,!i.length&&l)})});i.displayName="Col",t.Z=i},4074:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5271),s=r(2187),a=r.n(s),l=r(4982),o=r(5837);function c(e){let{animation:t,bg:r,bsPrefix:n,size:s,...c}=e;n=(0,l.vE)(n,"placeholder");let[{className:i,...u}]=(0,o.r)(c);return{...u,className:a()(i,t?"".concat(n,"-").concat(t):n,s&&"".concat(n,"-").concat(s),r&&"bg-".concat(r))}}var i=r(8801),u=r(2676);let d=n.forwardRef((e,t)=>{let r=c(e);return(0,u.jsx)(i.Z,{...r,ref:t,disabled:!0,tabIndex:-1})});d.displayName="PlaceholderButton";let m=n.forwardRef((e,t)=>{let{as:r="span",...n}=e,s=c(n);return(0,u.jsx)(r,{...s,ref:t})});m.displayName="Placeholder";var p=Object.assign(m,{Button:d})},8533:function(e,t,r){"use strict";var n=r(2187),s=r.n(n),a=r(5271),l=r(4982),o=r(2676);let c=a.forwardRef((e,t)=>{let{bsPrefix:r,className:n,striped:a,bordered:c,borderless:i,hover:u,size:d,variant:m,responsive:p,...f}=e,g=(0,l.vE)(r,"table"),h=s()(n,g,m&&"".concat(g,"-").concat(m),d&&"".concat(g,"-").concat(d),a&&"".concat(g,"-").concat("string"==typeof a?"striped-".concat(a):"striped"),c&&"".concat(g,"-bordered"),i&&"".concat(g,"-borderless"),u&&"".concat(g,"-hover")),v=(0,o.jsx)("table",{...f,className:h,ref:t});if(p){let e="".concat(g,"-responsive");return"string"==typeof p&&(e="".concat(e,"-").concat(p)),(0,o.jsx)("div",{className:e,children:v})}return v});t.Z=c},8166:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(4961),s=r(5139);class a{static async request_url(e,t,r,a){let l=new URLSearchParams(r);return l.append("lang",localStorage.getItem("language")||"en"),l.append("token",localStorage.getItem("token")||""),fetch("/api/"+(t+=(t.includes("?")?"&":"?")+l.toString()),{method:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>(e.success?(a.showSuccess&&n.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(a.hideFailure||n.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result)),e.result)).catch(e=>{a.hideError||n.X.emit("newAlert",{message:(0,s.t)("networkError"),variant:"danger"}),a.error&&a.error(e)})}static async request_body(e,t,r,a){fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:r.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""})}).then(e=>e.json()).then(e=>{e.success?(a.showSuccess&&n.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(a.hideFailure||n.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result))}).catch(e=>{a.hideError||n.X.emit("newAlert",{message:(0,s.t)("networkError"),variant:"danger"}),a.error&&a.error(e)})}static async Get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("GET",e,t,r)}static async Post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("POST",e,t,r)}static async Put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("PUT",e,t,r)}static async Delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("DELETE",e,t,r)}static async SWRGet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,n)=>{a.Get(e,t,{success:e=>r(e),failure:e=>n(e),error:e=>n(e)})})}static success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:t,result:r}),e.end())}static failure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:t,result:{}}),e.end())}}},6398:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(2676),s=r(5271),a=r(5324),l=r(7976),o=r.n(l),c=r(8533),i=r(7946),u=r(4074),d=r(5837),m=r(8166),p=r(9505),f=r(507),g=r.n(f),h=["color","size","title","className"];function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var j=(0,s.forwardRef)(function(e,t){var r=e.color,n=e.size,a=e.title,l=e.className,o=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,h);return s.createElement("svg",v({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r,className:["bi","bi-gender-male",l].filter(Boolean).join(" ")},o),a?s.createElement("title",null,a):null,s.createElement("path",{fillRule:"evenodd",d:"M9.5 2a.5.5 0 0 1 0-1h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V2.707L9.871 6.836a5 5 0 1 1-.707-.707L13.293 2zM6 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8"}))});j.propTypes={color:g().string,size:g().oneOfType([g().string,g().number]),title:g().string,className:g().string},j.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var b=["color","size","title","className"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=(0,s.forwardRef)(function(e,t){var r=e.color,n=e.size,a=e.title,l=e.className,o=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,b);return s.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r,className:["bi","bi-gender-female",l].filter(Boolean).join(" ")},o),a?s.createElement("title",null,a):null,s.createElement("path",{fillRule:"evenodd",d:"M8 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8M3 5a5 5 0 1 1 5.5 4.975V12h2a.5.5 0 0 1 0 1h-2v2.5a.5.5 0 0 1-1 0V13h-2a.5.5 0 0 1 0-1h2V9.975A5 5 0 0 1 3 5"}))});function x(){let{t:e}=a.default,[t,r]=(0,s.useState)(null);(0,s.useEffect)(()=>{"undefined"!=typeof localStorage&&r(localStorage.getItem("studentName"))});let{data:l}=(0,p.ZP)("student",m.b.SWRGet),{data:f}=(0,p.ZP)(()=>{if(!l)return null;let e=l.student.map(e=>e.studentId).join(",");return e?"groupMember?student="+e:null},m.b.SWRGet),{data:g}=(0,p.ZP)(()=>f?"group?groupIdList="+f.student.map(e=>e.group.map(e=>e.groupId)).join(","):null,m.b.SWRGet),{data:h}=(0,p.ZP)(()=>l?"roleMember?studentIdList="+l.student.map(e=>e.studentId).join(","):null,m.b.SWRGet),{data:v}=(0,p.ZP)(()=>h?"role?roleIdList="+h.student.map(e=>e.role.map(e=>e.roleId)).join(","):null,m.b.SWRGet);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:e("student")+" - "+e("brand")})}),(0,n.jsx)("h3",{children:e("student")}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"col-2",children:e("studentId")}),(0,n.jsx)("th",{className:"col-6",children:e("studentName")}),(0,n.jsx)("th",{className:"col-2",children:e("gender")}),(0,n.jsx)("th",{className:"col-2",children:e("psychologicalGender")})]})}),(0,n.jsx)("tbody",{children:l&&l.student.map(r=>(0,n.jsxs)("tr",{className:t==r.studentName?"table-primary":"",children:[(0,n.jsx)("td",{children:r.studentId}),(0,n.jsxs)("td",{children:[r.studentName,f?f.student.filter(e=>e.studentId==r.studentId).map(t=>t.group.map(t=>(0,n.jsx)(i.Z,{className:"ms-2",bg:t.leader?"primary":"secondary",role:"button",onClick:()=>{window.location.href="/group?groupId="+t.groupId},children:g?g.group.filter(e=>e.groupId==t.groupId).map(e=>e.groupName):e("group")+" "+t.groupId},t.groupId))):(0,n.jsx)(u.Z,{className:"ms-2",animation:"wave",children:(0,n.jsx)(u.Z,{as:d.Z,xs:3})}),h?h.student.filter(e=>e.studentId==r.studentId).map(t=>t.role.map(t=>(0,n.jsx)(i.Z,{className:"ms-2",role:"button",onClick:()=>{window.location.href="/role?roleId="+t.roleId},children:v?v.role.filter(e=>e.roleId==t.roleId).map(e=>e.roleName):e("role")+" "+t.roleId},t.roleId))):(0,n.jsx)(u.Z,{className:"ms-2",animation:"wave",children:(0,n.jsx)(u.Z,{as:d.Z,xs:3})})]}),(0,n.jsx)("td",{children:r.gender?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{className:"me-1"}),e("male")]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{className:"me-1"}),e("female")]})}),(0,n.jsx)("td",{children:r.psychologicalGender})]},r.studentId))})]})]})}w.propTypes={color:g().string,size:g().oneOfType([g().string,g().number]),title:g().string,className:g().string},w.defaultProps={color:"currentColor",size:"1em",title:null,className:""}}},function(e){e.O(0,[368,888,774,179],function(){return e(e.s=8328)}),_N_E=e.O()}]);