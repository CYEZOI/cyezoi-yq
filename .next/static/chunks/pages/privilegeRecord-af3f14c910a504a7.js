(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{4886:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privilegeRecord",function(){return t(293)}])},8166:function(e,r,t){"use strict";t.d(r,{b:function(){return a}});class a{static async request_url(e,r,t){let a=new URLSearchParams(t);return""!==a.toString()&&(r+="?"+a.toString()),fetch("/api/"+r,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.result)}static async request_body(e,r,t){return fetch("/api/"+r,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:t.params||{}})}).then(e=>e.json()).then(e=>e.result)}static async Get(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.request_url("GET",e,r)}static async Post(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.request_body("POST",e,r)}static async Put(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.request_body("PUT",e,r)}static async Delete(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.request_url("DELETE",e,r)}static success(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:r,result:t}),e.end())}static failure(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:r,result:{}}),e.end())}}},293:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return G}});var a=t(2676),s=t(5271),l=t(3232),n=t(7976),i=t.n(n),d=t(2187),c=t.n(d),o=t(4982),u=t(9400);let p=s.forwardRef((e,r)=>{let{active:t=!1,disabled:s=!1,className:l,style:n,activeLabel:i="(current)",children:d,linkStyle:o,linkClassName:p,as:f=u.Z,...v}=e,m=t||s?"span":f;return(0,a.jsx)("li",{ref:r,style:n,className:c()(l,"page-item",{active:t,disabled:s}),children:(0,a.jsxs)(m,{className:c()("page-link",p),style:o,...v,children:[d,t&&i&&(0,a.jsx)("span",{className:"visually-hidden",children:i})]})})});function f(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=s.forwardRef((e,s)=>{let{children:l,...n}=e;return(0,a.jsxs)(p,{...n,ref:s,children:[(0,a.jsx)("span",{"aria-hidden":"true",children:l||r}),(0,a.jsx)("span",{className:"visually-hidden",children:t})]})});return l.displayName=e,l}p.displayName="PageItem";let v=f("First","\xab"),m=f("Prev","‹","Previous"),h=f("Ellipsis","…","More"),j=f("Next","›"),g=f("Last","\xbb"),x=s.forwardRef((e,r)=>{let{bsPrefix:t,className:s,size:l,...n}=e,i=(0,o.vE)(t,"pagination");return(0,a.jsx)("ul",{ref:r,...n,className:c()(s,i,l&&"".concat(i,"-").concat(l))})});x.displayName="Pagination";var N=Object.assign(x,{First:v,Prev:m,Ellipsis:h,Item:p,Next:j,Last:g});let y=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l="div",...n}=e;return s=(0,o.vE)(s,"card-body"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});y.displayName="CardBody";let b=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l="div",...n}=e;return s=(0,o.vE)(s,"card-footer"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});b.displayName="CardFooter";var E=t(557);let R=s.forwardRef((e,r)=>{let{bsPrefix:t,className:l,as:n="div",...i}=e,d=(0,o.vE)(t,"card-header"),u=(0,s.useMemo)(()=>({cardHeaderBsPrefix:d}),[d]);return(0,a.jsx)(E.Z.Provider,{value:u,children:(0,a.jsx)(n,{ref:r,...i,className:c()(l,d)})})});R.displayName="CardHeader";let w=s.forwardRef((e,r)=>{let{bsPrefix:t,className:s,variant:l,as:n="img",...i}=e,d=(0,o.vE)(t,"card-img");return(0,a.jsx)(n,{ref:r,className:c()(l?"".concat(d,"-").concat(l):d,s),...i})});w.displayName="CardImg";let P=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l="div",...n}=e;return s=(0,o.vE)(s,"card-img-overlay"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});P.displayName="CardImgOverlay";let C=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l="a",...n}=e;return s=(0,o.vE)(s,"card-link"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});C.displayName="CardLink";var _=t(5136);let T=(0,_.Z)("h6"),k=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l=T,...n}=e;return s=(0,o.vE)(s,"card-subtitle"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});k.displayName="CardSubtitle";let I=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l="p",...n}=e;return s=(0,o.vE)(s,"card-text"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});I.displayName="CardText";let S=(0,_.Z)("h5"),O=s.forwardRef((e,r)=>{let{className:t,bsPrefix:s,as:l=S,...n}=e;return s=(0,o.vE)(s,"card-title"),(0,a.jsx)(l,{ref:r,className:c()(t,s),...n})});O.displayName="CardTitle";let Z=s.forwardRef((e,r)=>{let{bsPrefix:t,className:s,bg:l,text:n,border:i,body:d=!1,children:u,as:p="div",...f}=e,v=(0,o.vE)(t,"card");return(0,a.jsx)(p,{ref:r,...f,className:c()(s,v,l&&"bg-".concat(l),n&&"text-".concat(n),i&&"border-".concat(i)),children:d?(0,a.jsx)(y,{children:u}):u})});Z.displayName="Card";var L=Object.assign(Z,{Img:w,Title:O,Subtitle:k,Body:y,Link:C,Text:I,Header:R,Footer:b,ImgOverlay:P}),q=t(9505),F=t(8166);function G(){let{t:e}=l.default,[r,t]=(0,s.useState)(1),{data:n,error:d}=(0,q.ZP)("privilegeRecord?page="+r,F.b.Get),{data:c,error:o}=(0,q.ZP)(()=>{let e=n?n.privilegeRecord.map(e=>e.student).join(","):null;return e?"student?student="+e:null},F.b.Get),{data:u,error:p}=(0,q.ZP)(()=>{let e=n?n.privilegeRecord.filter(e=>"group"==e.type).map(e=>e.value).join(","):null;return e?"group?groupId="+e:null},F.b.Get),{data:f,error:v}=(0,q.ZP)(()=>{let e=n?n.privilegeRecord.filter(e=>"role"==e.type).map(e=>e.value).join(","):null;return e?"role?roleId="+e:null},F.b.Get);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:e("privilegeRecord")+" - "+e("brand")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:e("privilegeRecord")}),(0,a.jsxs)(N,{children:[(0,a.jsx)(N.First,{onClick:()=>t(1)}),(0,a.jsx)(N.Prev,{onClick:()=>t(r-1),disabled:1==r}),(0,a.jsx)(N.Item,{children:r}),(0,a.jsx)(N.Next,{onClick:()=>t(r+1),disabled:null==n||r==Math.ceil(n.privilegeRecordSize/10)}),(0,a.jsx)(N.Last,{onClick:()=>t(Math.ceil(n.privilegeRecordSize/10))})]}),n&&n.privilegeRecord.map(r=>{var t,s,l;return(0,a.jsx)(L,{className:"mb-2",children:(0,a.jsxs)(L.Body,{children:[(0,a.jsx)(L.Title,{children:c?null===(t=c.student.find(e=>e.studentId==r.student))||void 0===t?void 0:t.studentName:e("student")+r.student}),(0,a.jsx)(L.Subtitle,{className:"mb-2 text-muted",children:r.date}),(0,a.jsxs)(L.Text,{children:[r.io?e("gain"):e("lose"),e(r.type),e("colon"),"group"==r.type?u?null===(s=u.group.find(e=>e.groupId==r.value))||void 0===s?void 0:s.groupName:e("group")+r.value:f?null===(l=f.role.find(e=>e.roleId==r.value))||void 0===l?void 0:l.roleName:e("role")+r.value,e("comma"),e("reason"),e("colon"),r.reason]})]})},r.id)})]})]})}}},function(e){e.O(0,[368,888,774,179],function(){return e(e.s=4886)}),_N_E=e.O()}]);