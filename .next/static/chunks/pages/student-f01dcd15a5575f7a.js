(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{8328:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/student",function(){return n(1925)}])},5837:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(2187),a=n.n(r),s=n(5271),l=n(4982),c=n(2676);function o(e){let{as:t,bsPrefix:n,className:r,...s}=e;n=(0,l.vE)(n,"col");let c=(0,l.pi)(),o=(0,l.zG)(),u=[],d=[];return c.forEach(e=>{let t,r,a;let l=s[e];delete s[e],"object"==typeof l&&null!=l?{span:t,offset:r,order:a}=l:t=l;let c=e!==o?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&d.push("order".concat(c,"-").concat(a)),null!=r&&d.push("offset".concat(c,"-").concat(r))}),[{...s,className:a()(r,...u,...d)},{as:t,bsPrefix:n,spans:u}]}let u=s.forwardRef((e,t)=>{let[{className:n,...r},{as:s="div",bsPrefix:l,spans:u}]=o(e);return(0,c.jsx)(s,{...r,ref:t,className:a()(n,!u.length&&l)})});u.displayName="Col",t.Z=u},8533:function(e,t,n){"use strict";var r=n(2187),a=n.n(r),s=n(5271),l=n(4982),c=n(2676);let o=s.forwardRef((e,t)=>{let{bsPrefix:n,className:r,striped:s,bordered:o,borderless:u,hover:d,size:i,variant:p,responsive:g,...m}=e,h=(0,l.vE)(n,"table"),f=a()(r,h,p&&"".concat(h,"-").concat(p),i&&"".concat(h,"-").concat(i),s&&"".concat(h,"-").concat("string"==typeof s?"striped-".concat(s):"striped"),o&&"".concat(h,"-bordered"),u&&"".concat(h,"-borderless"),d&&"".concat(h,"-hover")),j=(0,c.jsx)("table",{...m,className:f,ref:t});if(g){let e="".concat(h,"-responsive");return"string"==typeof g&&(e="".concat(e,"-").concat(g)),(0,c.jsx)("div",{className:e,children:j})}return j});t.Z=o},8166:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(4961);class a{static async request_url(e,t,n,a){let s=new URLSearchParams(n);return s.append("lang",localStorage.getItem("language")||"en"),s.append("token",localStorage.getItem("token")||""),fetch("/api/"+(t+=(t.includes("?")?"&":"?")+s.toString()),{method:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>(e.success?(r.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(r.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result)),e.result)).catch(e=>{r.X.emit("newAlert",{message:"API Error",variant:"danger"}),a.error&&a.error(e)})}static async request_body(e,t,n,a){fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:n.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""})}).then(e=>e.json()).then(e=>{e.success?(r.X.emit("newAlert",{message:e.message,variant:"success"}),a.success&&a.success(e.result)):(r.X.emit("newAlert",{message:e.message,variant:"danger"}),a.failure&&a.failure(e.result))}).catch(e=>{r.X.emit("newAlert",{message:"API Error",variant:"danger"}),a.error&&a.error(e)})}static async Get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("GET",e,t,n)}static async Post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("POST",e,t,n)}static async Put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_body("PUT",e,t,n)}static async Delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.request_url("DELETE",e,t,n)}static async SWRGet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{a.Get(e,t,{success:e=>n(e),failure:e=>r(e),error:e=>r(e)})})}static success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:t,result:n}),e.end())}static failure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:t,result:{}}),e.end())}}},1925:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(2676),a=n(5271),s=n(3232),l=n(7976),c=n.n(l),o=n(8533),u=n(2187),d=n.n(u),i=n(4982);let p=a.forwardRef((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:s=!1,text:l,className:c,as:o="span",...u}=e,p=(0,i.vE)(n,"badge");return(0,r.jsx)(o,{ref:t,...u,className:d()(c,p,s&&"rounded-pill",l&&"text-".concat(l),a&&"bg-".concat(a))})});p.displayName="Badge";var g=n(5837);function m(e){let{animation:t,bg:n,bsPrefix:r,size:a,...s}=e;r=(0,i.vE)(r,"placeholder");let[{className:l,...c}]=(0,g.r)(s);return{...c,className:d()(l,t?"".concat(r,"-").concat(t):r,a&&"".concat(r,"-").concat(a),n&&"bg-".concat(n))}}var h=n(8801);let f=a.forwardRef((e,t)=>{let n=m(e);return(0,r.jsx)(h.Z,{...n,ref:t,disabled:!0,tabIndex:-1})});f.displayName="PlaceholderButton";let j=a.forwardRef((e,t)=>{let{as:n="span",...a}=e,s=m(a);return(0,r.jsx)(n,{...s,ref:t})});j.displayName="Placeholder";var v=Object.assign(j,{Button:f}),b=n(8166),x=n(9505);function N(){let{t:e}=s.default,[t,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{"undefined"!=typeof localStorage&&n(localStorage.getItem("studentName"))});let{data:l}=(0,x.ZP)("student",b.b.SWRGet),{data:u}=(0,x.ZP)(()=>{let e=l.student.map(e=>e.studentId).join(",");return e?"groupMember?student="+e:null},b.b.SWRGet),{data:d}=(0,x.ZP)(()=>{let e=u?u.student.map(e=>e.group.map(e=>e.groupId)).join(","):null;return e?"group?groupId="+e:null},b.b.SWRGet),{data:i}=(0,x.ZP)(()=>{let e=l.student.map(e=>e.studentId).join(",");return e?"roleMember?student="+e:null},b.b.SWRGet),{data:m}=(0,x.ZP)(()=>{let e=i?i.student.map(e=>e.role).join(","):null;return e?"role?roleId="+e:null},b.b.SWRGet);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{children:(0,r.jsx)("title",{children:e("student")+" - "+e("brand")})}),(0,r.jsx)("h3",{children:e("student")}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"col-2",children:e("studentNumber")}),(0,r.jsx)("th",{className:"col-8",children:e("studentName")}),(0,r.jsx)("th",{className:"col-2",children:e("gender")})]})}),(0,r.jsx)("tbody",{children:l&&l.student.map(n=>(0,r.jsxs)("tr",{className:t==n.studentName?"table-primary":"",children:[(0,r.jsx)("td",{children:n.studentId}),(0,r.jsxs)("td",{children:[n.studentName,u?u.student.filter(e=>e.studentId==n.studentId).map(t=>t.group.map(t=>(0,r.jsx)(p,{className:"ms-2",bg:t.leader?"primary":"secondary",role:"button",onClick:()=>{window.location.href="/group?groupId="+t.groupId},children:d?d.group.filter(e=>e.groupId==t.groupId).map(e=>e.groupName):e("group")+" "+t.groupId},t.groupId))):(0,r.jsx)(v,{animation:"wave",children:(0,r.jsx)(v,{as:g.Z,xs:3})}),i?i.student.filter(e=>e.studentId==n.studentId).map(t=>t.role.map(t=>(0,r.jsx)(p,{className:"ms-2",bg:"primary",children:m?m.role.filter(e=>e.roleId==t).map(e=>e.roleName):e("role")+" "+t},t))):(0,r.jsx)(v,{animation:"wave",children:(0,r.jsx)(v,{as:g.Z,xs:3})})]}),(0,r.jsx)("td",{children:n.gender?e("male"):e("female")})]},n.studentId))})]})]})}}},function(e){e.O(0,[368,888,774,179],function(){return e(e.s=8328)}),_N_E=e.O()}]);