(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{751:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permission",function(){return r(5954)}])},5191:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var s=r(2187),a=r.n(s),n=r(5271),l=r(4982),c=r(2676);function o(e){let{as:t,bsPrefix:r,className:s,...n}=e;r=(0,l.vE)(r,"col");let c=(0,l.pi)(),o=(0,l.zG)(),i=[],u=[];return c.forEach(e=>{let t,s,a;let l=n[e];delete n[e],"object"==typeof l&&null!=l?{span:t,offset:s,order:a}=l:t=l;let c=e!==o?"-".concat(e):"";t&&i.push(!0===t?"".concat(r).concat(c):"".concat(r).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=s&&u.push("offset".concat(c,"-").concat(s))}),[{...n,className:a()(s,...i,...u)},{as:t,bsPrefix:r,spans:i}]}let i=n.forwardRef((e,t)=>{let[{className:r,...s},{as:n="div",bsPrefix:l,spans:i}]=o(e);return(0,c.jsx)(n,{...s,ref:t,className:a()(r,!i.length&&l)})});i.displayName="Col",t.Z=i},1105:function(e,t,r){"use strict";r.d(t,{UI:function(){return a},XW:function(){return n}});var s=r(5271);function a(e,t){let r=0;return s.Children.map(e,e=>s.isValidElement(e)?t(e,r++):e)}function n(e,t){return s.Children.toArray(e).some(e=>s.isValidElement(e)&&e.type===t)}},4018:function(e,t,r){"use strict";var s=r(2187),a=r.n(s),n=r(5271),l=r(6932),c=r(4982),o=r(2676);let i=n.forwardRef((e,t)=>{let{bsPrefix:r,className:s,children:n,controlId:i,label:u,...d}=e;return r=(0,c.vE)(r,"form-floating"),(0,o.jsxs)(l.Z,{ref:t,className:a()(s,r),controlId:i,...d,children:[n,(0,o.jsx)("label",{htmlFor:i,children:u})]})});i.displayName="FloatingLabel",t.Z=i},2737:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var s=r(2187),a=r.n(s),n=r(507),l=r.n(n),c=r(5271),o=r(2676);let i={type:l().string,tooltip:l().bool,as:l().elementType},u=c.forwardRef((e,t)=>{let{as:r="div",className:s,type:n="valid",tooltip:l=!1,...c}=e;return(0,o.jsx)(r,{...c,ref:t,className:a()(s,"".concat(n,"-").concat(l?"tooltip":"feedback"))})});u.displayName="Feedback",u.propTypes=i;var d=r(4331),f=r(556),m=r(4982);let h=c.forwardRef((e,t)=>{let{bsPrefix:r,className:s,htmlFor:n,...l}=e,{controlId:i}=(0,c.useContext)(f.Z);return r=(0,m.vE)(r,"form-check-label"),(0,o.jsx)("label",{...l,ref:t,htmlFor:n||i,className:a()(s,r)})});h.displayName="FormCheckLabel";var p=r(1105);let g=c.forwardRef((e,t)=>{let{id:r,bsPrefix:s,bsSwitchPrefix:n,inline:l=!1,reverse:i=!1,disabled:g=!1,isValid:v=!1,isInvalid:x=!1,feedbackTooltip:j=!1,feedback:y,feedbackType:b,className:w,style:N,title:E="",type:Z="checkbox",label:k,children:F,as:C="input",...R}=e;s=(0,m.vE)(s,"form-check"),n=(0,m.vE)(n,"form-switch");let{controlId:S}=(0,c.useContext)(f.Z),I=(0,c.useMemo)(()=>({controlId:r||S}),[S,r]),_=!F&&null!=k&&!1!==k||(0,p.XW)(F,h),P=(0,o.jsx)(d.Z,{...R,type:"switch"===Z?"checkbox":Z,ref:t,isValid:v,isInvalid:x,disabled:g,as:C});return(0,o.jsx)(f.Z.Provider,{value:I,children:(0,o.jsx)("div",{style:N,className:a()(w,_&&s,l&&"".concat(s,"-inline"),i&&"".concat(s,"-reverse"),"switch"===Z&&n),children:F||(0,o.jsxs)(o.Fragment,{children:[P,_&&(0,o.jsx)(h,{title:E,children:k}),y&&(0,o.jsx)(u,{type:b,tooltip:j,children:y})]})})})});g.displayName="FormCheck";var v=Object.assign(g,{Input:d.Z,Label:h});r(1190);let x=c.forwardRef((e,t)=>{let{bsPrefix:r,type:s,size:n,htmlSize:l,id:i,className:u,isValid:d=!1,isInvalid:h=!1,plaintext:p,readOnly:g,as:v="input",...x}=e,{controlId:j}=(0,c.useContext)(f.Z);return r=(0,m.vE)(r,"form-control"),(0,o.jsx)(v,{...x,type:s,size:l,ref:t,readOnly:g,id:i||j,className:a()(u,p?"".concat(r,"-plaintext"):r,n&&"".concat(r,"-").concat(n),"color"===s&&"".concat(r,"-color"),d&&"is-valid",h&&"is-invalid")})});x.displayName="FormControl";var j=Object.assign(x,{Feedback:u});let y=c.forwardRef((e,t)=>{let{className:r,bsPrefix:s,as:n="div",...l}=e;return s=(0,m.vE)(s,"form-floating"),(0,o.jsx)(n,{ref:t,className:a()(r,s),...l})});y.displayName="FormFloating";var b=r(6932),w=r(5191);let N=c.forwardRef((e,t)=>{let{as:r="label",bsPrefix:s,column:n=!1,visuallyHidden:l=!1,className:i,htmlFor:u,...d}=e,{controlId:h}=(0,c.useContext)(f.Z);s=(0,m.vE)(s,"form-label");let p="col-form-label";"string"==typeof n&&(p="".concat(p," ").concat(p,"-").concat(n));let g=a()(i,s,l&&"visually-hidden",n&&p);return(u=u||h,n)?(0,o.jsx)(w.Z,{ref:t,as:"label",className:g,htmlFor:u,...d}):(0,o.jsx)(r,{ref:t,className:g,htmlFor:u,...d})});N.displayName="FormLabel";let E=c.forwardRef((e,t)=>{let{bsPrefix:r,className:s,id:n,...l}=e,{controlId:i}=(0,c.useContext)(f.Z);return r=(0,m.vE)(r,"form-range"),(0,o.jsx)("input",{...l,type:"range",ref:t,className:a()(s,r),id:n||i})});E.displayName="FormRange";let Z=c.forwardRef((e,t)=>{let{bsPrefix:r,size:s,htmlSize:n,className:l,isValid:i=!1,isInvalid:u=!1,id:d,...h}=e,{controlId:p}=(0,c.useContext)(f.Z);return r=(0,m.vE)(r,"form-select"),(0,o.jsx)("select",{...h,size:n,ref:t,className:a()(l,r,s&&"".concat(r,"-").concat(s),i&&"is-valid",u&&"is-invalid"),id:d||p})});Z.displayName="FormSelect";let k=c.forwardRef((e,t)=>{let{bsPrefix:r,className:s,as:n="small",muted:l,...c}=e;return r=(0,m.vE)(r,"form-text"),(0,o.jsx)(n,{...c,ref:t,className:a()(s,r,l&&"text-muted")})});k.displayName="FormText";let F=c.forwardRef((e,t)=>(0,o.jsx)(v,{...e,ref:t,type:"switch"}));F.displayName="Switch";var C=Object.assign(F,{Input:v.Input,Label:v.Label}),R=r(4018);let S={_ref:l().any,validated:l().bool,as:l().elementType},I=c.forwardRef((e,t)=>{let{className:r,validated:s,as:n="form",...l}=e;return(0,o.jsx)(n,{...l,ref:t,className:a()(r,s&&"was-validated")})});I.displayName="Form",I.propTypes=S;var _=Object.assign(I,{Group:b.Z,Control:j,Floating:y,Check:v,Switch:C,Label:N,Text:k,Range:E,Select:Z,FloatingLabel:R.Z})},4331:function(e,t,r){"use strict";var s=r(2187),a=r.n(s),n=r(5271),l=r(556),c=r(4982),o=r(2676);let i=n.forwardRef((e,t)=>{let{id:r,bsPrefix:s,className:i,type:u="checkbox",isValid:d=!1,isInvalid:f=!1,as:m="input",...h}=e,{controlId:p}=(0,n.useContext)(l.Z);return s=(0,c.vE)(s,"form-check-input"),(0,o.jsx)(m,{...h,ref:t,type:u,id:r||p,className:a()(i,s,d&&"is-valid",f&&"is-invalid")})});i.displayName="FormCheckInput",t.Z=i},556:function(e,t,r){"use strict";let s=r(5271).createContext({});t.Z=s},6932:function(e,t,r){"use strict";var s=r(5271),a=r(556),n=r(2676);let l=s.forwardRef((e,t)=>{let{controlId:r,as:l="div",...c}=e,o=(0,s.useMemo)(()=>({controlId:r}),[r]);return(0,n.jsx)(a.Z.Provider,{value:o,children:(0,n.jsx)(l,{...c,ref:t})})});l.displayName="FormGroup",t.Z=l},8533:function(e,t,r){"use strict";var s=r(2187),a=r.n(s),n=r(5271),l=r(4982),c=r(2676);let o=n.forwardRef((e,t)=>{let{bsPrefix:r,className:s,striped:n,bordered:o,borderless:i,hover:u,size:d,variant:f,responsive:m,...h}=e,p=(0,l.vE)(r,"table"),g=a()(s,p,f&&"".concat(p,"-").concat(f),d&&"".concat(p,"-").concat(d),n&&"".concat(p,"-").concat("string"==typeof n?"striped-".concat(n):"striped"),o&&"".concat(p,"-bordered"),i&&"".concat(p,"-borderless"),u&&"".concat(p,"-hover")),v=(0,c.jsx)("table",{...h,className:g,ref:t});if(m){let e="".concat(p,"-responsive");return"string"==typeof m&&(e="".concat(e,"-").concat(m)),(0,c.jsx)("div",{className:e,children:v})}return v});t.Z=o},8166:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var s=r(4961),a=r(5139);class n{static async request_url(e,t,r,n){let l=new URLSearchParams(r);return l.append("lang",localStorage.getItem("language")||"en"),l.append("token",localStorage.getItem("token")||""),fetch("/api/"+(t+=(t.includes("?")?"&":"?")+l.toString()),{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},redirect:"manual"}).then(e=>e.json()).then(e=>(e.success?(n.showSuccess&&s.X.emit("newAlert",{message:e.message,variant:"success"}),n.success&&n.success(e.result)):(n.hideFailure||s.X.emit("newAlert",{message:e.message,variant:"danger"}),n.failure&&n.failure(e.result)),e.result)).catch(e=>{n.hideError||s.X.emit("newAlert",{message:(0,a.t)("networkError"),variant:"danger"}),n.error&&n.error(e)})}static async request_body(e,t,r,n){fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({params:r.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""}),redirect:"manual"}).then(e=>e.json()).then(e=>{e.success?(n.showSuccess&&s.X.emit("newAlert",{message:e.message,variant:"success"}),n.success&&n.success(e.result)):(n.hideFailure||s.X.emit("newAlert",{message:e.message,variant:"danger"}),n.failure&&n.failure(e.result))}).catch(e=>{n.hideError||s.X.emit("newAlert",{message:(0,a.t)("networkError"),variant:"danger"}),n.error&&n.error(e)})}static async Get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.request_url("GET",e,t,r)}static async Post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.request_body("POST",e,t,r)}static async Put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.request_body("PUT",e,t,r)}static async Delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.request_url("DELETE",e,t,r)}static async SWRGet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,s)=>{n.Get(e,t,{success:e=>r(e),failure:e=>s(e),error:e=>s(e)})})}static success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.writableEnded||(e.status(200).json({success:!0,message:t,result:r}),e.end())}static failure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.writableEnded||(e.status(200).json({success:!1,message:t,result:{}}),e.end())}}},5954:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(2676),a=r(7976),n=r.n(a),l=r(5324),c=r(8166),o=r(5271),i=r(9505),u=r(8533),d=r(2737),f=r(8801);let m=["login","financeWrite","createUser","listUser","updateOtherPassword","updatePermission","updateOtherInfo","changeStudentBasicInfo","logoutOther","uploadImage"];function h(){let{t:e}=l.default,[t,r]=o.useState(null),[a,h]=o.useState(-1),{data:p}=(0,i.ZP)(t?"user?userIdList="+t:null,c.b.SWRGet),{data:g}=(0,i.ZP)(()=>null==p?null:"student?studentIdList="+p.user.map(e=>e.studentId).join(","),c.b.SWRGet);return g&&-1==a&&h(p.user[0].permission),o.useEffect(()=>{"undefined"!=typeof location&&r(parseInt(new URLSearchParams(location.search).get("userId")||""))}),console.log(a),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:e("permission")+" - "+e("brand")})}),(0,s.jsxs)("h3",{children:[e("permission"),g?" - "+g.student.map(e=>e.studentName).join(", "):null]}),p&&(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:e("permission")}),(0,s.jsx)("th",{children:e("status")})]})}),(0,s.jsx)("tbody",{children:m.map((t,r)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e(t)}),(0,s.jsx)("td",{children:(()=>{let t=(a&1<<r)!=0;return(0,s.jsx)(d.Z.Check,{type:"switch",label:e(t?"enabled":"disabled"),checked:t,onChange:()=>{console.log(a,r,a^1<<r),h(a^1<<r)}})})()})]},r))})]}),(0,s.jsx)(f.Z,{onClick:()=>{c.b.Put("user",{params:{userId:t,permission:a}},{showSuccess:!0})},children:e("update")})]})}}},function(e){e.O(0,[368,888,774,179],function(){return e(e.s=751)}),_N_E=e.O()}]);