"use strict";(()=>{var e={};e.id=254,e.ids=[254],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2021:e=>{e.exports=import("i18next")},7987:e=>{e.exports=import("react-i18next")},8210:e=>{e.exports=import("sequelize")},8411:(e,t,a)=>{a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{config:()=>c,default:()=>l,routeModule:()=>d});var r=a(808),n=a(7933),s=a(6130),u=a(3757),o=e([u]);u=(o.then?(await o)():o)[0];let l=(0,s.l)(u,"default"),c=(0,s.l)(u,"config"),d=new r.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/financeStatics",pathname:"/api/financeStatics",bundlePath:"",filename:""},userland:u});i()}catch(e){i(e)}})},3757:(e,t,a)=>{a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{default:()=>l});var r=a(4570),n=a(4229),s=a(5076),u=a(2550),o=e([r,n,s,u]);async function l(e,t){if("GET"==e.method){if(s.Z.changeLanguage(e.query.lang||"en"),await u.r.checkToken(e.query.token)==null){r.b.failure(t,s.Z.t("unauthorized"));return}let a={records:[]};await n.yr.findAll().then(e=>{let i=0,n=0,u=0,o="";for(let t of e){let e=t.getDataValue("date").toString().slice(0,7);""==o&&(o=e),o!=e&&(a.records.push({month:o,income:i,expenditure:n,balance:u}),o=e,i=0,n=0),t.getDataValue("money")>0?i+=t.getDataValue("money"):n+=t.getDataValue("money"),u+=t.getDataValue("money")}a.records.push({month:o,income:i,expenditure:n,balance:u}),r.b.success(t,s.Z.t("financeStaticsGetSuccess"),a)})}else r.b.failure(t,s.Z.t("invalidMethod"))}[r,n,s,u]=o.then?(await o)():o,i()}catch(e){i(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[829],()=>a(8411));module.exports=i})();