"use strict";(()=>{var e={};e.id=766,e.ids=[766],e.modules={20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},22021:e=>{e.exports=import("i18next")},57987:e=>{e.exports=import("react-i18next")},58210:e=>{e.exports=import("sequelize")},74220:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>s,default:()=>d,routeModule:()=>p});var i=t(90808),u=t(27933),n=t(56130),l=t(65549),o=e([l]);l=(o.then?(await o)():o)[0];let d=(0,n.l)(l,"default"),s=(0,n.l)(l,"config"),p=new i.PagesAPIRouteModule({definition:{kind:u.x.PAGES_API,page:"/api/privilegeRecord",pathname:"/api/privilegeRecord",bundlePath:"",filename:""},userland:l});r()}catch(e){r(e)}})},65549:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>s});var i=t(64570),u=t(74229),n=t(45076),l=t(72550),o=t(72901),d=e([i,u,n,l]);async function s(e,a){if("GET"==e.method){if(n.Z.changeLanguage(e.query.lang||"en"),await l.r.checkToken(e.query.token)==null){i.b.failure(a,n.Z.t("unauthorized"));return}let s=e.query.page;if("string"!=typeof s||!o.h.isValidNumber(s)){i.b.failure(a,n.Z.t("invalidParameter"));return}var t=(parseInt(s)-1)*10,r=[];await u.Bw.findAll({limit:10,offset:t}).then(e=>{for(let a of e)r.push({privilegeRecordId:a.getDataValue("privilegeRecordId"),date:a.getDataValue("date"),student:a.getDataValue("student"),io:a.getDataValue("io"),type:a.getDataValue("type"),value:a.getDataValue("value"),reason:a.getDataValue("reason")})});var d=0;await u.Bw.count().then(e=>{d=e}),i.b.success(a,n.Z.t("privilegeRecordGetSuccess"),{privilegeRecord:r,privilegeRecordSize:d})}else i.b.failure(a,n.Z.t("invalidMethod"))}[i,u,n,l]=d.then?(await d)():d,r()}catch(e){r(e)}})}};var a=require("../../webpack-api-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[829],()=>t(74220));module.exports=r})();