"use strict";exports.id=829,exports.ids=[829],exports.modules={56130:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},64570:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{b:()=>l});var r=a(69169),n=a(22021),o=e([n]);n=(o.then?(await o)():o)[0];class l{static async request_url(e,t,a,s){let o=new URLSearchParams(a);return o.append("lang",localStorage.getItem("language")||"en"),o.append("token",localStorage.getItem("token")||""),t+=(t.includes("?")?"&":"?")+o.toString(),fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},redirect:"manual"}).then(e=>e.json()).then(e=>(e.success?(s.showSuccess&&r.X.emit("newAlert",{message:e.message,variant:"success"}),s.success&&s.success(e.result)):(s.hideFailure||r.X.emit("newAlert",{message:e.message,variant:"danger"}),s.failure&&s.failure(e.result)),e.result)).catch(e=>{s.hideError||r.X.emit("newAlert",{message:(0,n.t)("networkError"),variant:"danger"}),s.error&&s.error(e)})}static async request_body(e,t,a,s){let o={params:a.params||{},lang:localStorage.getItem("language")||"en",token:localStorage.getItem("token")||""};fetch("/api/"+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o),redirect:"manual"}).then(e=>e.json()).then(e=>{e.success?(s.showSuccess&&r.X.emit("newAlert",{message:e.message,variant:"success"}),s.success&&s.success(e.result)):(s.hideFailure||r.X.emit("newAlert",{message:e.message,variant:"danger"}),s.failure&&s.failure(e.result))}).catch(e=>{s.hideError||r.X.emit("newAlert",{message:(0,n.t)("networkError"),variant:"danger"}),s.error&&s.error(e)})}static async Get(e,t={},a={}){return l.request_url("GET",e,t,a)}static async Post(e,t={},a={}){return l.request_body("POST",e,t,a)}static async Put(e,t={},a={}){return l.request_body("PUT",e,t,a)}static async Delete(e,t={},a={}){return l.request_url("DELETE",e,t,a)}static async SWRGet(e,t={}){return new Promise((a,s)=>{l.Get(e,t,{success:e=>a(e),failure:e=>s(e),error:e=>s(e)})})}static success(e,t="",a={}){e.writableEnded||(e.status(200).json({success:!0,message:t,result:a}),e.end())}static failure(e,t=""){e.writableEnded||(e.status(200).json({success:!1,message:t,result:{}}),e.end())}}s()}catch(e){s(e)}})},74229:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Bw:()=>m,CI:()=>c,Qw:()=>g,VK:()=>y,gk:()=>o,h5:()=>p,io:()=>d,jm:()=>f,mt:()=>i,sJ:()=>u,yr:()=>l});var r=a(58210),n=e([r]);let o=new(r=(n.then?(await n)():n)[0]).Sequelize({dialect:"sqlite",storage:"db/yq.sqlite"}),l=o.define("finance",{financeId:{type:r.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},date:{type:r.DataTypes.DATEONLY,allowNull:!1},money:{type:r.DataTypes.INTEGER,allowNull:!1},detail:{type:r.DataTypes.STRING,allowNull:!1},image:{type:r.DataTypes.STRING}}),c=o.define("student",{studentId:{type:r.DataTypes.INTEGER,primaryKey:!0},studentName:{type:r.DataTypes.STRING,allowNull:!1},gender:{type:r.DataTypes.BOOLEAN,allowNull:!1},psychologicalGender:{type:r.DataTypes.STRING,allowNull:!0}}),u=o.define("group",{groupId:{type:r.DataTypes.INTEGER,primaryKey:!0},groupName:{type:r.DataTypes.STRING,allowNull:!1}}),i=o.define("groupMember",{group:{type:r.DataTypes.INTEGER},student:{type:r.DataTypes.INTEGER},leader:{type:r.DataTypes.BOOLEAN,allowNull:!1}}),d=o.define("role",{roleId:{type:r.DataTypes.INTEGER,primaryKey:!0},roleName:{type:r.DataTypes.STRING,allowNull:!1}}),p=o.define("roleMember",{role:{type:r.DataTypes.INTEGER},student:{type:r.DataTypes.INTEGER}}),m=o.define("privilegeRecord",{privilegeRecordId:{type:r.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},date:{type:r.DataTypes.DATEONLY,allowNull:!1},student:{type:r.DataTypes.INTEGER,allowNull:!1},io:{type:r.DataTypes.BOOLEAN,allowNull:!1},type:{type:r.DataTypes.STRING,allowNull:!1},value:{type:r.DataTypes.INTEGER,allowNull:!1},reason:{type:r.DataTypes.STRING,allowNull:!0}}),y=o.define("user",{userId:{type:r.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},username:{type:r.DataTypes.STRING,allowNull:!1,unique:!0},password:{type:r.DataTypes.STRING,allowNull:!1},studentId:{type:r.DataTypes.INTEGER,allowNull:!0},permission:{type:r.DataTypes.INTEGER,allowNull:!1,defaultValue:0},lastOnline:{type:r.DataTypes.DATE,allowNull:!0}}),g=o.define("token",{token:{type:r.DataTypes.STRING,primaryKey:!0},userId:{type:r.DataTypes.INTEGER,allowNull:!1}}),f=o.define("image",{imageId:{type:r.DataTypes.STRING,primaryKey:!0},userId:{type:r.DataTypes.INTEGER,allowNull:!1},image:{type:r.DataTypes.STRING,allowNull:!1}});s()}catch(e){s(e)}})},45076:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>l});var r=a(22021),n=a(57987),o=e([r,n]);[r,n]=o.then?(await o)():o,r.default.use(n.initReactI18next).init({resources:{en:{translation:{404:"404 Not Found","404Description":"The page you are looking for is not found.",500:"500 Internal Server Error","500Description":"We are sorry, but an error has occurred. Please try again later. If the problem persists, please contact us. Thank you.",action:"Action",addButton:"Add",allGroups:"All groups",amount:"Amount",back:"Back",balance:"Balance",brand:"CYEZOI-YQ",changeInfo:"Change information",changePassword:"Change password",changeStudentBasicInfo:"Change student basic info",changeStudentInfo:"Change student info",colon:": ",comma:", ",confirmPassword:"Confirm password",copyLink:"Copy link",copyLinkSuccess:"Copy link successfully",create:"Create",createdAt:"Created at",createUser:"Create user",dark:"Dark",databaseError:"Database error",date:"Date",delete:"Delete",detail:"Detail",disabled:"Disabled",dragToUpload:"Drag file here to upload",enabled:"Enabled",enter:"Enter",error:"Error",errorDescription:"We are sorry, but an error has occurred. Please try again later. If the problem persists, please contact us. Thank you.",expenditure:"Expenditure",feedback:"Feedback",female:"Female",finance:"Finance",financeCreateSuccess:"Create finance record successfully",financeDeleteSuccess:"Delete finance record successfully",financeGetSuccess:"Get finance records successfully",financeStaticsGetSuccess:"Get finance statistics successfully",financeUpdateSuccess:"Update finance record successfully",financeWrite:"Finance write",footer:"Powered by CYEZOI, open source on ",gain:"Gain",gender:"Biological gender",group:"Group",groupGetSuccess:"Get group records successfully",groupId:"Group ID",groupMemberCreateSuccess:"Create group member record successfully",groupMemberGetSuccess:"Get group member records successfully",groupName:"Group Name",home:"Home",id:"ID",image:"Image",imageDeleteSuccess:"Delete image successfully",imageGetSuccess:"Get image successfully",imageNotFound:"Image not found",imageUploadSuccess:"Upload image successfully",income:"Income",invalidMethod:"Invalid request method",invalidParameter:"Invalid parameter",language:"Language",lastOnline:"Last Online",light:"Light",listUser:"List user",login:"Login",loginSuccess:"Login successfully",logout:"Logout",logoutOther:"Logout other user",logoutSuccess:"Logout successfully",lose:"Lose",male:"Male",max1000:"Maximum 1000",max38:"Maximum 38",maxLen16:"Maximum length 16",maxLen64:"Maximum length 64",min0:"Minimum 0",min1:"Minimum 1",minLen4:"Minimum length 4",minLen8:"Minimum length 8",mode:"Mode",money:"Money",networkError:"Network Error",operation:"Operation",or:"or",password:"Password",passwordNotMatch:"Password not match",permission:"Permission",permissionDenied:"Permission denied",personal:"Personal",privilegeRecord:"Privilege Record",privilegeRecordGetSuccess:"Get privilege record successfully",psychologicalGender:"Psychological gender",reason:"Reason",releaseToUpload:"Release to upload",required:"Required",requireDate:"Date required",requireNumber:"Number required",requireString:"String required",requireStrongPassword:"Require at least one uppercase letter, one lowercase letter, one number and one special character.",resource:"Resource",RMB:"RMB",role:"Role",roleGetSuccess:"Get role records successfully",roleId:"Role ID",roleMemberCreateSuccess:"Create role member record successfully",roleMemberDeleteSuccess:"Delete role member record successfully",roleMemberGetSuccess:"Get role member records successfully",roleName:"Role Name",save:"Save",selectFile:"Select file",status:"Status",student:"Student",studentGetSuccess:"Get student records successfully",studentId:"Student Number",studentName:"Name",studentUpdateSuccess:"Update student successfully",time:"Time",unauthorized:"Unauthorized",update:"Update",updateOtherInfo:"Update other information",updateOtherPassword:"Update other password",updatePermission:"Update permission",uploadImage:"Upload image",uploadUser:"Upload user",user:"User",userCreateSuccess:"Create user successfully",userDeleteSuccess:"Delete user successfully",userExists:"User exists",userGetSuccess:"Get user successfully",userId:"User ID",username:"Username",userNotFound:"User not found",userUpdateSuccess:"Update user successfully",welcomeDescription:"Welcome to CYEZOI-YQ, the official website of the YQ class of Cao Yang No.2 Middle School. We are sorry to inform you that the resource content needs to provide an email to the developer and log in to the Microsoft account to view due to copyright.",deleteUserConfirm:"Are you sure to delete user {{username}}?",cancel:"Cancel"}},zh:{translation:{cancel:"取消",deleteUserConfirm:"确定删除用户{{username}}吗？",404:"404 未找到","404Description":"您要查找的页面未找到。",500:"500 服务器内部错误","500Description":"很抱歉，发生了错误。请稍后再试。如果问题仍然存在，请与我们联系。谢谢。",action:"操作",addButton:"添加",allGroups:"所有组",amount:"金额",back:"返回",balance:"余额",brand:"曹杨二中永强创新班",changeInfo:"修改信息",changePassword:"修改密码",changeStudentBasicInfo:"修改学生基本信息",changeStudentInfo:"修改学生信息",colon:"：",comma:"，",confirmPassword:"确认密码",copyLink:"复制链接",copyLinkSuccess:"复制链接成功",create:"创建",createdAt:"创建于",createUser:"创建用户",dark:"黑暗",databaseError:"数据库错误",date:"日期",delete:"删除",detail:"详情",disabled:"禁用",dragToUpload:"拖动文件到此处上传",enabled:"启用",enter:"查看",error:"错误",errorDescription:"很抱歉，发生了错误。请稍后再试。如果问题仍然存在，请与我们联系。谢谢。",expenditure:"支出",feedback:"反馈",female:"女",finance:"财务",financeCreateSuccess:"创建财务记录成功",financeDeleteSuccess:"删除财务记录成功",financeGetSuccess:"获取财务记录成功",financeStaticsGetSuccess:"获取财务统计成功",financeUpdateSuccess:"更新财务记录成功",financeWrite:"财务写入",footer:"由曹杨二中信奥开发组提供技术支持，开源于 ",gain:"获得",gender:"生理性别",group:"组",groupGetSuccess:"获取组记录成功",groupId:"组编号",groupMemberCreateSuccess:"创建组成员记录成功",groupMemberGetSuccess:"获取组成员记录成功",groupName:"组名",home:"首页",id:"编号",image:"图片",imageDeleteSuccess:"删除图片成功",imageGetSuccess:"获取图片成功",imageNotFound:"图片未找到",imageUploadSuccess:"上传图片成功",income:"收入",invalidMethod:"无效的请求方法",invalidParameter:"参数错误",language:"语言",lastOnline:"最后在线",light:"明亮",listUser:"列出用户",login:"登录",loginSuccess:"登录成功",logout:"登出",logoutOther:"登出其他用户",logoutSuccess:"登出成功",lose:"失去",male:"男",max1000:"最大值 1000",max38:"最大值 38",maxLen16:"最大长度 16",maxLen64:"最大长度 64",min0:"最小值 0",min1:"最小值 1",minLen4:"最小长度 4",minLen8:"最小长度 8",mode:"模式",money:"金额",networkError:"网络请求错误",operation:"操作",or:"或",password:"密码",passwordNotMatch:"密码不匹配",permission:"权限",permissionDenied:"权限不足",personal:"个人",privilegeRecord:"陶片放逐",privilegeRecordGetSuccess:"获取陶片放逐记录成功",psychologicalGender:"心理性别",reason:"原因",releaseToUpload:"释放以上传",required:"必填",requireDate:"需要填写日期",requireNumber:"需要填写数字",requireString:"需要填写字符串",requireStrongPassword:"需要至少一个大写字母、一个小写字母、一个数字和一个特殊字符。",resource:"资源",RMB:"元",role:"角色",roleGetSuccess:"获取角色记录成功",roleId:"角色编号",roleMemberCreateSuccess:"创建角色成员记录成功",roleMemberDeleteSuccess:"删除角色成员记录成功",roleMemberGetSuccess:"获取角色成员记录成功",roleName:"角色名",save:"保存",selectFile:"选择文件",status:"状态",student:"学生",studentGetSuccess:"获取学生记录成功",studentId:"学号",studentName:"姓名",studentUpdateSuccess:"修改学生成功",time:"时间",unauthorized:"未登录",update:"更新",updateOtherInfo:"修改他人信息",updateOtherPassword:"修改他人密码",updatePermission:"更新权限",uploadImage:"上传图片",uploadUser:"上传用户",user:"用户",userCreateSuccess:"创建用户成功",userDeleteSuccess:"删除用户成功",userExists:"用户已存在",userGetSuccess:"获取用户成功",userId:"用户编号",username:"用户名",userNotFound:"用户未找到",userUpdateSuccess:"更新用户成功",welcomeDescription:"欢迎来到曹杨二中永强创新班的官方网站。很抱歉地通知您，资源内容因为版权问题，需要联系开发者提供邮箱并登录微软账号才能查看。"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});let l=r.default;s()}catch(e){s(e)}})},69169:(e,t,a)=>{a.d(t,{X:()=>r});class s{listen(e,t){this.pipes[e]=t}emit(e,t=null){this.pipes[e]&&this.pipes[e](t)}constructor(){this.pipes={}}}let r=new s},72550:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{r:()=>l});var r=a(74229),n=a(72901),o=e([r]);r=(o.then?(await o)():o)[0];class l{static async createToken(e){var t=n.h.generateRandomString();return await r.Qw.create({userId:e,token:t}),t}static async checkToken(e){return await r.Qw.findOne({where:{token:e}}).then(async e=>{if(!e)return null;let t=e.getDataValue("userId");return await r.VK.update({lastOnline:new Date},{where:{userId:t}}),t})}static async deleteToken(e){await r.Qw.destroy({where:{userId:e}})}}s()}catch(e){s(e)}})},72901:(e,t,a)=>{a.d(t,{h:()=>s});class s{static isValidNumber(e,t=!1){let a=parseInt(e);return!isNaN(a)&&(t||a>=0)&&a!=-1/0&&a!=1/0}static generateRandomString(e=64){var t="";for(let a=0;a<e;a++)t+=String.fromCharCode(Math.floor(26*Math.random())+97);return t}}},27933:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},90808:(e,t,a)=>{e.exports=a(20145)}};